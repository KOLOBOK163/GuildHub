databaseChangeLog:
  - changeSet:
      id: 007-update-existing-tables
      author: Vladislav
      changes:
        - addColumn:
            tableName: teams
            columns:
              - column:
                  name: logo_url
                  type: VARCHAR(255)
              - column:
                  name: hltv_rating
                  type: INTEGER

        - addColumn:
            tableName: player_cards
            columns:
              - column:
                  name: nickname
                  type: VARCHAR(255)
              - column:
                  name: full_name
                  type: VARCHAR(255)
              - column:
                  name: steam_id
                  type: VARCHAR(255)
              - column:
                  name: faceit_url
                  type: VARCHAR(255)
              - column:
                  name: country
                  type: VARCHAR(100)
              - column:
                  name: rating
                  type: DECIMAL(10,2)
              - column:
                  name: kd_ratio
                  type: DECIMAL(10,2)
              - column:
                  name: maps_played
                  type: INTEGER

        - addColumn:
            tableName: videos
            columns:
              - column:
                  name: team_id
                  type: BIGINT
                  constraints:
                    nullable: true

        - addForeignKeyConstraint:
            baseTableName: videos
            baseColumnNames: team_id
            referencedTableName: teams
            referencedColumnNames: id
            constraintName: fk_video_team

        - addColumn:
            tableName: videos
            columns:
              - column:
                  name: youtube_url
                  type: VARCHAR(500)
              - column:
                  name: map
                  type: VARCHAR(100)
              - column:
                  name: position
                  type: VARCHAR(100)
              - column:
                  name: views
                  type: INTEGER
                  defaultValue: 0
              - column:
                  name: likes
                  type: INTEGER
                  defaultValue: 0
              - column:
                  name: type
                  type: VARCHAR(50)
                  constraints:
                    nullable: false
                  defaultValue: "HIGHLIGHT"

